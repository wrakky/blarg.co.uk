<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="icon" href="/blarg.co.uk/assets/images/icons/favicon.ico"><link rel="author" href="/blarg.co.uk/humans.txt"><link rel="canonical" href="http://blarg.co.uk/blog/page-2/"><link rel="stylesheet" href="/blarg.co.uk/assets/css/site.css"><title>Blog - blarg.co.uk</title><meta name="description" content="Musings from the mind of a blarger. Technology, astronomy and random stuff."></head><body><div id="top"><div class="container"><ul class="social pull-right"><li><a href="https://github.com/wrakky" data-toggle="tooltip" data-placement="bottom" title="Github"><i class="fa fa-github"></i></a></li><li><a href="https://twitter.com/wrakky" data-toggle="tooltip" data-placement="bottom" title="Twitter"><i class="fa fa-twitter"></i></a></li><li><a href="http://www.flickr.com/photos/16120271@N03/" data-toggle="tooltip" data-placement="bottom" title="Flickr"><i class="fa fa-flickr"></i></a></li></ul></div></div><header id="header" class="container"><div class="navbar navbar-default" role="navigation"><div class="container-fluid"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-links"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" href="/">blarg.co.uk</a></div><div class="collapse navbar-collapse" id="navbar-links"><ul class="nav navbar-nav navbar-right"><li><a href="/blarg">Blarg</a></li><li class="active"><a href="/blog">Blog</a></li><li><a href="/tools">Tools</a></li><li><a href="/astronomy">Astronomy</a></li></ul></div></div></div></header><div id="page" class="container page-blog"><div id="breadcrumbs" class="clearfix"><div class="container-fluid"><h1 class="pull-left">Blog</h1><ol class="pull-right breadcrumb"><li><a href="/">Home</a></li><li class="active">Blog</li></ol></div></div><div class="row"><div id="content" class="col-md-9"><div class="post clearfix"><h2 class="title"><a href="/blog/alternative-datediff-for-mysql">Alternative DATEDIFF for MySQL</a></h2><div class="info"><div class="pull-left"><i class="fa fa-calendar"></i> 26th October 2010</div><div class="pull-right"><i class="fa fa-comments"></i> <a href="/blog/alternative-datediff-for-mysql#disqus_thread"></a></div></div><br class="clearfix"><p></p><p>The <code class="highlighter-rouge">DATEDIFF()</code> function was added in MySQL version 4.1.1. For earlier versions that do not support this function you can make a work-around for it using the <code class="highlighter-rouge">TO_DAYS</code> function. This article show you how to do just that.</p><p>The following code shows how to perform the equivalent of <code class="highlighter-rouge">DATEDIFF()</code> when it is not available:</p><div class="highlight"><pre><code class="language-mysql" data-lang="mysql"><span class="k">SELECT</span> <span class="nf">TO_DAYS</span><span class="p">(</span><span class="n">date1</span><span class="p">)</span> <span class="o">-</span> <span class="nf">TO_DAYS</span><span class="p">(</span><span class="n">date2</span><span class="p">);</span>

<span class="c1">-- example</span>
<span class="k">SELECT</span> <span class="nf">TO_DAYS</span><span class="p">(</span><span class="s1">&#39;2010-01-03&#39;</span><span class="p">)</span> <span class="o">-</span> <span class="nf">TO_DAYS</span><span class="p">(</span><span class="s1">&#39;2010-01-01&#39;</span><span class="p">);</span> <span class="c1">-- returns &#39;2&#39;</span></code></pre></div><p>This will give the same effect as <code class="highlighter-rouge">DATEDIFF(date1, date2)</code> by converting each date to the number of days since year 0 and subtracting them.</p><p><span class="label label-success">Note:</span> According the <a href="http://dev.mysql.com/doc/refman/4.1/en/date-and-time-functions.html#function_to-days">MySQL manual</a>, <code class="highlighter-rouge">TO_DAYS()</code> is not intended for use with dates that precede the year 1582 because it does not take into account the days that were lost when the Gregorian calendar was introduced so using this method is not advisable for dates earlier than this.</p><p></p><a href="/blog/alternative-datediff-for-mysql"><i class="fa fa-arrow-circle-o-right"></i> Read Full Post&hellip;</a></div><div class="pagination"><a href="/blog" class="btn">&laquo; previous</a> <a href="/blog" class="btn">1</a> <span class="btn">2</span></div><script type="text/javascript">

  /* * * CONFIGURATION VARIABLES * * */
  var disqus_shortname = "blargcouk";

  /* * * DISQUS SCRIPT * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();

</script></div><div id="sidebar" class="col-md-3"><div class="sidebar-box"><div class="title"><h2><i class="fa fa-arrow-circle-right"></i> Lastest From the Blog</h2></div><ul class="list-group"><li class="list-group-item"><a href="/blog/comparison-of-jpeg-lossless-compression-tools">Comparison of JPEG Lossless Compression Tools</a></li><li class="list-group-item"><a href="/blog/how-to-install-mozjpeg">How to Install mozjpeg</a></li><li class="list-group-item"><a href="/blog/recursively-optimize-png-files">Recursively Optimize PNG Files</a></li><li class="list-group-item"><a href="/blog/javascript-date-formats">Javascript Date Formats</a></li><li class="list-group-item"><a href="/blog/automatically-collapse-firephp-responses">Automatically Collapse FirePHP Responses</a></li></ul></div><div class="sidebar-box"><div class="title"><h2><i class="fa fa-cogs"></i> Tools</h2></div><ul class="list-group"><li class="list-group-item"><a href="/tools/page-ruler"><img class="icon" src="/blarg.co.uk/assets/images/browser/chrome.png"> Page Ruler</a><p>Draw a ruler to get pixel dimensions and positioning on any page</p></li><li class="list-group-item"><a href="/tools/robots-vs-humans"><img class="icon" src="/blarg.co.uk/assets/images/browser/chrome.png"> Robots vs Humans</a><p>Display robots.txt and humans.txt files on any website</p></li><li class="list-group-item"><a href="/astronomy/barn-door-tracker-calculator"><img class="icon" src="/blarg.co.uk/assets/images/astronomy/telescope.png"> Barn Door Tracker Calculator</a><p>Quickly calculate the distance between the hinge and drive bolt</p></li></ul></div><div class="sidebar-box"><div class="title"><h2><i class="fa fa-twitter"></i> Latest Tweets</h2></div><div class="tweets"><p class="loading"><i class="fa fa-spinner fa-spin"></i> Loading tweets...</p></div><a href="https://twitter.com/wrakky" class="btn btn-info btn-sm btn-block"><i class="fa fa-twitter"></i> Follow me on Twitter</a></div><script>window.TWEET_TYPE = 'mine';</script><div class="sidebar-box"><div class="title"><h2><i class="fa fa-flickr"></i> Photostream</h2></div><div class="photostream"><p class="loading"><i class="fa fa-spinner fa-spin"></i> Loading photostream...</p></div><a href="https://www.flickr.com/photos/16120271@N03/" class="btn btn-success btn-sm btn-block"><i class="fa fa-flickr"></i> Follow me on Flickr</a></div><script>window.PHOTOSTREAM = true;</script></div></div><div class="clearfix"></div></div><footer id="footer" class="container"><div class="navbar navbar-inverse"><div class="container-fluid"><p class="navbar-text">Copyright &copy; 2015 <a href="/" class="navbar-link">blarg.co.uk</a>. All rights reserved.</p><p class="navbar-text pull-right">Hosted on <a href="http://github.com/" class="navbar-link">Github</a>, Powered by <a href="http://jekyllrb.com/" class="navbar-link">Jekyll</a></p></div></div></footer><script src="/blarg.co.uk/assets/js/libs.js"></script><script src="/blarg.co.uk/assets/js/site.js"></script></body></html>