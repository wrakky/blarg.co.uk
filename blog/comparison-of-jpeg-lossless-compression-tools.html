<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="icon" href="/assets/images/icons/favicon.ico"><link rel="author" href="/humans.txt"><link rel="canonical" href="http://blarg.co.uk/blog/comparison-of-jpeg-lossless-compression-tools"><link rel="stylesheet" href="/assets/css/site.css"><title>Comparison of JPEG Lossless Compression Tools - blarg.co.uk</title><link rel="alternate" type="application/rss+xml" title="blarg.co.uk feed" href="http://blarg.co.uk/feed.xml"></head><body><div id="top"><div class="container"><ul class="social pull-right"><li><a href="https://github.com/wrakky" data-toggle="tooltip" data-placement="bottom" title="Github"><i class="fa fa-github"></i></a></li><li><a href="https://twitter.com/wrakky" data-toggle="tooltip" data-placement="bottom" title="Twitter"><i class="fa fa-twitter"></i></a></li><li><a href="http://www.flickr.com/photos/16120271@N03/" data-toggle="tooltip" data-placement="bottom" title="Flickr"><i class="fa fa-flickr"></i></a></li></ul></div></div><header id="header" class="container"><div class="navbar navbar-default" role="navigation"><div class="container-fluid"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-links"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" href="/">blarg.co.uk</a></div><div class="collapse navbar-collapse" id="navbar-links"><ul class="nav navbar-nav navbar-right"><li><a href="/blarg/">Blarg</a></li><li class="active"><a href="/blog/">Blog</a></li><li><a href="/tools/">Tools</a></li><li><a href="/astronomy/">Astronomy</a></li></ul></div></div></div></header><div id="page" class="container page-blog"><div id="breadcrumbs" class="clearfix"><div class="container-fluid"><h1 class="pull-left">Comparison of JPEG Lossless Compression Tools</h1></div></div><div class="row"><div id="content" class="col-md-9"><div class="info"><div class="pull-left"><i class="fa fa-calendar"></i> 27th June 2014</div><div class="pull-right"><i class="fa fa-comments"></i> <a href="/blog/comparison-of-jpeg-lossless-compression-tools#disqus_thread"></a></div></div><br class="clearfix"><div class="article"><p><a href="http://en.wikipedia.org/wiki/Lossless_compression">Losslessly compressing</a> JPEG files is a great but often overlooked way to reduce file sizes on your website or application without losing image quality. Smaller file sizes mean less bandwidth usage for you, and faster page load speeds for your users. What’s not to like about that?</p><p>So you want to losslessly compress all your lovely JPEGs but what tool should you use to get the maximum benefit? In this article I compare four tools (jpegoptim, jpegtran, jpegrescan and mozjpeg) and use them to losslessly compress a few different JPEG files to see which gives the best reduction in file size.</p><div class="well well-sm update"><h4>Update 1st August 2014</h4><p>Mozjpeg version 2.1 was released on 29th July and the tests have been updated to include this new version.</p></div><h2 id="tools-used">Tools Used</h2><p>Listed below are the tools used in this test. The test script can be found on my <a href="https://github.com/wrakky/lossless-jpeg-comparison">github page</a>.</p><p>Know of any other tools that provide lossless compression? Let me know and I’ll include them in the test!</p><h3 id="jpegoptim-v141---httpsgithubcomtjkojpegoptimhttpsgithubcomtjkojpegoptim">jpegoptim v1.4.1 - <a href="https://github.com/tjko/jpegoptim">https://github.com/tjko/jpegoptim</a></h3><p>A popular utility for optimizing and compressing JPEG files.</p><div class="highlight"><pre><code class="language-bash" data-lang="bash">jpegoptim --strip-all --all-progressive --dest<span class="o">=[</span>/path/to/compressed] <span class="o">[</span>/path/to/original]</code></pre></div><h3 id="jpegtran-v9a---httpjpegcluborgjpegtranhttpjpegcluborgjpegtran">jpegtran v9a - <a href="http://jpegclub.org/jpegtran/">http://jpegclub.org/jpegtran/</a></h3><p>Another popular utility program from the <a href="http://libjpeg-turbo.virtualgl.org/">libjpeg-turbo</a> image codec.</p><div class="highlight"><pre><code class="language-bash" data-lang="bash">jpegtran -copy none -optimize -progressive -outfile <span class="o">[</span>/path/to/compressed] <span class="o">[</span>/path/to/original]</code></pre></div><h3 id="jpegrescan-v10---httpsgithubcomkudjpegrescanhttpsgithubcomkudjpegrescan">jpegrescan v1.0 - <a href="https://github.com/kud/jpegrescan">https://github.com/kud/jpegrescan</a></h3><p>A perl script for losslessly compressing JPEG files. Originally created by Loren Merritt as <em>jpgcrush</em>.</p><div class="highlight"><pre><code class="language-bash" data-lang="bash">jpegrescan -s <span class="o">[</span>/path/to/original] <span class="o">[</span>/path/to/compressed]</code></pre></div><h3 id="mozjpeg-v10-amp-v21---httpsgithubcommozillamozjpeghttpsgithubcommozillamozjpeg">mozjpeg v1.0 &amp; v2.1 - <a href="https://github.com/mozilla/mozjpeg">https://github.com/mozilla/mozjpeg</a></h3><p><a href="https://blog.mozilla.org/research/2014/03/05/introducing-the-mozjpeg-project/">Recently announced</a> project from Mozilla. Aims to improve lossless JPEG compression even further than the currently available options. It is a fork of <a href="http://libjpeg-turbo.virtualgl.org/">libjpeg-turbo</a> with jpgcrush functionality added. For more information see my article on <a href="/blog/how-to-install-mozjpeg">how to compile mozjpeg</a></p><div class="highlight"><pre><code class="language-bash" data-lang="bash">mozjpeg -copy none -outfile <span class="o">[</span>/path/to/compressed] <span class="o">[</span>/path/to/original]</code></pre></div><h2 id="results">Results</h2><h4 id="rankings">Rankings</h4><ol><li>mozjpeg</li><li>jpegrescan</li><li>jpegoptim and jpegtran (joint)</li></ol><p>Maybe not unsurprisingly given it’s mission to increase compression, the winner is <strong>mozjpeg</strong>. Interestingly, v1.0 and v2.1 did better on different photos so there was no clear winner on file size between the two version but v2.1 was between 10% and 20% faster than v1.0 and now also supports baseline JPEGs which may tip the balance.</p><p>In a close second was <strong>jpegrescan</strong> with 2 of the photos reducing by the same amount and the rest only a couple of hundred bytes bigger when compared to mozjpeg but took 2-3 times longer to process the images. These two performed between 1-2% better than both <strong>jpegtran</strong> and <strong>jpegoptim</strong> which reduced files by exactly the same amount as each other.</p><p>If speed is also an issue then both jpegtran and jpegoptim are valid options performing about 3 times faster than mozjpeg whilst still giving good results, although a good caching solution will negate most of the drawbacks of the longer run times. Also good (as noted above) was mozjpeg 2.1 being between 10% and 20% faster than v1.0 which hopefully bodes well for future releases.</p><h2 id="tests-amp-results">Tests &amp; Results</h2><p>These are the images used in the tests with the full results and figures:</p><div class="media"><a class="pull-left" href="https://www.flickr.com/photos/16120271@N03/8608708499/"><img class="media-object" src="https://farm9.staticflickr.com/8245/8608708499_0e457569c6_t.jpg" alt="Comet PANSTARRS with Andromeda Galaxy"></a><div class="media-body"><h4 class="media-heading">Comet PANSTARRS with Andromeda Galaxy</h4><strong>Filesize:</strong>6,178,710 bytes (5.9mb)<br><strong>Dimensions:</strong> 4824 x 3161</div></div><table class="table"><thead><tr><th>Tool</th><th>Filesize Reduction</th><th>Time Taken</th></tr></thead><tbody><tr><td>jpegoptim</td><td>17.635% - 1,089,625 bytes (1mb)</td><td>2,342ms</td></tr><tr><td>jpegtran</td><td>17.635% - 1,089,625 bytes (1mb)</td><td>2,221ms</td></tr><tr><td>jpegrescan</td><td>18.875% - 1,166,276 bytes (1.1mb)</td><td>16,816ms</td></tr><tr><td>mozjpeg1</td><td>18.876% - 1,166,323 bytes (1.1mb)</td><td>6,280ms</td></tr><tr><td>mozjpeg2</td><td class="success">18.879% - 1,166,519 bytes (1.1mb)</td><td>5,272ms</td></tr></tbody></table><div class="media"><a class="pull-left" href="https://www.flickr.com/photos/16120271@N03/6834383270/"><img class="media-object" src="https://farm8.staticflickr.com/7209/6834383270_3b01cceeeb_t.jpg" alt="Female mallard"></a><div class="media-body"><h4 class="media-heading">Female Mallard</h4><strong>Filesize:</strong>4,213,895 bytes (4mb)<br><strong>Dimensions:</strong> 4928 x 3264</div></div><table class="table"><thead><tr><th>Tool</th><th>Filesize Reduction</th><th>Time Taken</th></tr></thead><tbody><tr><td>jpegoptim</td><td>6.315% - 266,136 bytes (260kb)</td><td>1,658ms</td></tr><tr><td>jpegtran</td><td>6.315% - 266,136 bytes (260kb)</td><td>1,654ms</td></tr><tr><td>jpegrescan</td><td>7.77% - 327,444 bytes (319kb)</td><td>11,387ms</td></tr><tr><td>mozjpeg1</td><td>7.77% - 327,452 bytes (319kb)</td><td>4,716ms</td></tr><tr><td>mozjpeg2</td><td class="success">7.771% - 327,464 bytes (319kb)</td><td>4,237ms</td></tr></tbody></table><div class="media"><a class="pull-left" href="https://www.flickr.com/photos/16120271@N03/13376784453/"><img class="media-object" src="https://farm8.staticflickr.com/7226/13376784453_0ba6fcef3f_t.jpg" alt="Jupiter and Moons"></a><div class="media-body"><h4 class="media-heading">Jupiter and Moons</h4><strong>Filesize:</strong>3,157,940 bytes (3mb)<br><strong>Dimensions:</strong> 4928 x 3264</div></div><table class="table"><thead><tr><th>Tool</th><th>Filesize Reduction</th><th>Time Taken</th></tr></thead><tbody><tr><td>jpegoptim</td><td>15.537% - 490,662 bytes (479kb)</td><td>1,471ms</td></tr><tr><td>jpegtran</td><td>15.537% - 490,662 bytes (479kb)</td><td>1,469ms</td></tr><tr><td>jpegrescan</td><td class="success">16.574% - 523,402 bytes (523kb)</td><td>9,672ms</td></tr><tr><td>mozjpeg1</td><td class="success">16.574% - 523,402 bytes (523kb)</td><td>4,046ms</td></tr><tr><td>mozjpeg2</td><td>16.514% - 521,533 bytes (521kb)</td><td>3,484ms</td></tr></tbody></table><div class="media"><a class="pull-left" href="https://www.flickr.com/photos/16120271@N03/14181107726/"><img class="media-object" src="https://farm3.staticflickr.com/2920/14181107726_ac9e7d739d_t.jpg" alt="Beer"></a><div class="media-body"><h4 class="media-heading">Beer</h4><strong>Filesize:</strong>2,154,968 bytes (2mb)<br><strong>Dimensions:</strong> 3264 x 2448</div></div><table class="table"><thead><tr><th>Tool</th><th>Filesize Reduction</th><th>Time Taken</th></tr></thead><tbody><tr><td>jpegoptim</td><td>8.011% - 172,644 bytes (168kb)</td><td>854ms</td></tr><tr><td>jpegtran</td><td>8.011% - 172,644 bytes (168kb)</td><td>741ms</td></tr><tr><td>jpegrescan</td><td class="success">8.666% - 186,750 bytes (182kb)</td><td>5,742ms</td></tr><tr><td>mozjpeg1</td><td class="success">8.666% - 186,750 bytes (182kb)</td><td>2,089ms</td></tr><tr><td>mozjpeg2</td><td>8.483% - 182,815 bytes (178kb)</td><td>1,786ms</td></tr></tbody></table><div class="media"><a class="pull-left" href="https://www.flickr.com/photos/16120271@N03/7272580786/"><img class="media-object" src="https://farm8.staticflickr.com/7231/7272580786_06d364cb65_t.jpg" alt="House Martins"></a><div class="media-body"><h4 class="media-heading">House Martins</h4><strong>Filesize:</strong>1,122,198 bytes (1mb)<br><strong>Dimensions:</strong> 2048 x 1356</div></div><table class="table"><thead><tr><th>Tool</th><th>Filesize Reduction</th><th>Time Taken</th></tr></thead><tbody><tr><td>jpegoptim</td><td>5.367% - 60,229 bytes (59kb)</td><td>482ms</td></tr><tr><td>jpegtran</td><td>5.367% - 60,229 bytes (59kb)</td><td>501ms</td></tr><tr><td>jpegrescan</td><td>6.264% - 70,303 bytes (68kb)</td><td>3,259ms</td></tr><tr><td>mozjpeg1</td><td>6.268% - 70,349 bytes (68kb)</td><td>1,235ms</td></tr><tr><td>mozjpeg2</td><td class="success">6.268% - 70,350 bytes (68kb)</td><td>1,114ms</td></tr></tbody></table><div class="media"><a class="pull-left" href="https://www.flickr.com/photos/16120271@N03/6613482555/"><img class="media-object" src="https://farm8.staticflickr.com/7168/6613482555_23492c5dc0_t.jpg" alt="Sunset"></a><div class="media-body"><h4 class="media-heading">Sunset</h4><strong>Filesize:</strong>320,398 bytes (312kb)<br><strong>Dimensions:</strong> 1024 x 768</div></div><table class="table"><thead><tr><th>Tool</th><th>Filesize Reduction</th><th>Time Taken</th></tr></thead><tbody><tr><td>jpegoptim</td><td>3.642% - 11,672 bytes (168kb)</td><td>150ms</td></tr><tr><td>jpegtran</td><td>3.642% - 11,672 bytes (168kb)</td><td>149ms</td></tr><tr><td>jpegrescan</td><td>4.804% - 15,393 bytes (182kb)</td><td>1,423ms</td></tr><tr><td>mozjpeg1</td><td>4.817% - 15,435 bytes (182kb)</td><td>478ms</td></tr><tr><td>mozjpeg2</td><td class="success">4.819% - 15,441 bytes (182kb)</td><td>335ms</td></tr></tbody></table></div><hr><div id="share"><h3>Share This Page</h3><div class="link-group"><a data-network="twitter" class="social-share btn btn-info" href="https://twitter.com/share?text=Comparison of JPEG Lossless Compression Tools&url=http://blarg.co.uk/blog/comparison-of-jpeg-lossless-compression-tools" rel="popup"><i class="fa fa-twitter"></i> <span>Share on</span>Twitter</a></div><div class="link-group"><a data-network="facebook" class="social-share btn btn-primary" href="https://www.facebook.com/sharer/sharer.php?u=http://blarg.co.uk/blog/comparison-of-jpeg-lossless-compression-tools" rel="popup"><i class="fa fa-facebook-square"></i> <span>Share on</span>Facebook</a></div><div class="link-group"><a data-network="googleplus" class="social-share btn btn-danger" href="https://plus.google.com/share?url=http://blarg.co.uk/blog/comparison-of-jpeg-lossless-compression-tools" rel="popup"><i class="fa fa-google-plus"></i> <span>Share on</span>Google+</a></div></div><hr><h3>Join in the Discussion</h3><div id="disqus_thread"></div><script type="text/javascript">

  /* * * CONFIGURATION VARIABLES * * */
  var disqus_shortname = "blargcouk";

  /* * * DISQUS SCRIPT * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();

</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript><script type="text/javascript">

  /* * * CONFIGURATION VARIABLES * * */
  var disqus_shortname = "blargcouk";

  /* * * DISQUS SCRIPT * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();

</script></div><div id="sidebar" class="col-md-3"><div class="sidebar-box"><div class="title"><h2><i class="fa fa-share"></i> Share This Page</h2></div><div><a data-network="twitter" class="social-share btn btn-info btn-sm" href="https://twitter.com/share?text=Comparison of JPEG Lossless Compression Tools&url=http://blarg.co.uk/blog/comparison-of-jpeg-lossless-compression-tools" rel="popup"><i class="fa fa-twitter"></i> Twitter</a> <a data-network="facebook" class="social-share btn btn-primary btn-sm" href="https://www.facebook.com/sharer/sharer.php?u=http://blarg.co.uk/blog/comparison-of-jpeg-lossless-compression-tools" rel="popup"><i class="fa fa-facebook-square"></i> Facebook</a> <a data-network="googleplus" class="social-share btn btn-danger btn-sm" href="https://plus.google.com/share?url=http://blarg.co.uk/blog/comparison-of-jpeg-lossless-compression-tools" rel="popup"><i class="fa fa-google-plus"></i> Google+</a></div></div><div class="sidebar-box"><div class="title"><h2><i class="fa fa-arrow-circle-right"></i> Lastest From the Blog</h2></div><ul class="list-group"><li class="list-group-item"><a href="/blog/testing-react-prop-changes">Testing Prop Changes in React</a></li><li class="list-group-item"><a href="/blog/comparison-of-jpeg-lossless-compression-tools">Comparison of JPEG Lossless Compression Tools</a></li><li class="list-group-item"><a href="/blog/how-to-install-mozjpeg">How to Install mozjpeg</a></li><li class="list-group-item"><a href="/blog/recursively-optimize-png-files">Recursively Optimize PNG Files</a></li><li class="list-group-item"><a href="/blog/javascript-date-formats">Javascript Date Formats</a></li></ul></div><div class="sidebar-box"><div class="title"><h2><i class="fa fa-cogs"></i> Tools</h2></div><ul class="list-group"><li class="list-group-item"><a href="/tools/page-ruler"><img class="icon" src="/assets/images/browser/chrome.png"> Page Ruler</a><p>Draw a ruler to get pixel dimensions and positioning on any page</p></li><li class="list-group-item"><a href="/tools/robots-vs-humans"><img class="icon" src="/assets/images/browser/chrome.png"> Robots vs Humans</a><p>Display robots.txt and humans.txt files on any website</p></li><li class="list-group-item"><a href="/astronomy/barn-door-tracker-calculator"><img class="icon" src="/assets/images/astronomy/telescope.png"> Barn Door Tracker Calculator</a><p>Quickly calculate the distance between the hinge and drive bolt</p></li></ul></div><div class="sidebar-box"><div class="title"><h2><i class="fa fa-twitter"></i> Latest Tweets</h2></div><div class="tweets"><p class="loading"><i class="fa fa-spinner fa-spin"></i> Loading tweets...</p></div><a href="https://twitter.com/wrakky" class="btn btn-info btn-sm btn-block"><i class="fa fa-twitter"></i> Follow me on Twitter</a></div><script>window.TWEET_TYPE = 'mine';</script><div class="sidebar-box"><div class="title"><h2><i class="fa fa-flickr"></i> Photostream</h2></div><div class="photostream"><p class="loading"><i class="fa fa-spinner fa-spin"></i> Loading photostream...</p></div><a href="https://www.flickr.com/photos/16120271@N03/" class="btn btn-success btn-sm btn-block"><i class="fa fa-flickr"></i> Follow me on Flickr</a></div><script>window.PHOTOSTREAM = true;</script></div></div><div class="clearfix"></div></div><footer id="footer" class="container"><div class="navbar navbar-inverse"><div class="container-fluid"><p class="navbar-text">Copyright &copy; 2015 <a href="/" class="navbar-link">blarg.co.uk</a>. All rights reserved.</p><p class="navbar-text pull-right">Hosted on <a href="https://github.com/wrakky/blarg.co.uk" class="navbar-link">Github</a>, Powered by <a href="http://jekyllrb.com/" class="navbar-link">Jekyll</a></p></div></div></footer><script src="/assets/js/libs.js"></script><script src="/assets/js/site.js"></script></body></html>